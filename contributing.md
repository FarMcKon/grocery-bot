## Requirements
- Python 3.8+
- See `requirements.txt` for Python dependencies

## Getting Started
This guide is for local dev setup only, and is only as complete as the project is. 

### A)  Pull the repo, and make sure that is OK 
Pull the repo, and make sure it works , do first-checkout only tasks
1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd grocery-bot
   ```

2. **Create environment file**
   ```bash
   cp .env.example .env
   # Edit .env file with your Twilio credentials (optional for testing)
   ```

3. **Create and activate virtual environment**
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```

4. **Install dependencies**
   ```bash
   pip install -r requirements.txt
   ```

5. ** Coffeee Break **
Take 5, first annoying part is over


### B) Setup SMS outbound gateway (twilio) and makee sure that is OK 
 1. Setup a Twilio account and get your credentials
 2. Set up your environment variables
 3. Run 'Send SMS test' via twilio API 
 4. Celebrate ! You can now talk to phones outbound. 


### C) Setup SMS inbound gateway (twilio + ngrok) and makee sure that is OK 
 1. setup ngrok account 
   (install ngrok to OS if needed)
   (run ngork localhost service in second termial )
   (get public url from ngrok)

   you will need to follow their setup, on thepr page like: https://dashboard.ngrok.com/get-started/setup/macos
   (you will want to run and leave running ngrok in another terminal window)

   After geting ngrok running / installed, get wget for testing 
   ``` brew install wget 
   ```

   2. weget test 
   wget --post-data='<html><body><h1>Hello, World!</h1></body></html>' --header="Content-Type: text/html"  https://SOME_AUTOGENERATED_ID.ngrok-free.app/sms/webhook

   mock curl
   ```
   Open code block in new page

   See flask endpoint running, showing request body? Good, ngrok & flask are working. 
   Yeah!? Take a sip of coffee, ngrok local workls

   3. set twillio to use our ngrok forwarding
   (go to twillio , do these instruction)

 3. Run 'receive SMS test' 
 4. Celebrate ! Phones can now talk back to you.

### D) Setup db and storeage 
 1. For this, just use live_test_xxx command for now 


### E) make your grocery list magic ! 


<!-- 
5. **Run the SMS server**
   ```bash
   python main.py
   ```
6. **Test SMS functionality** (optional)
   ```bash
   # Test SMS service connection
   python test_sms_main.py connect
   
   # Test sending SMS
   python test_sms_main.py send -p 5551234567 -m "add milk"
   ```
 -->

## Suggested testing as you deploy

a) Test SMS gateway functionaloty
    a.1) set Twilio environment variables in .env file (or by secrets)
    a.2) run SMS test to your twilio 'virtual phone' as 'to phone' target
        `python live_test_sms_main.py send --message "yo #3"  --to_phone "+18777804236`

b) Test receiving and processing incoming SMS messages
   b.1) Use ngrok to expose your local server to the internet
   b.2) Test receive and process incoming SMS messages


## See Also 
Other readings, especially tool or libraries this uses
- [python-dotenv](https://github.com/theskumar/python-dotenv)
- [ngrok to expose local server to the internet](https://www.twilio.com/docs/usage/tutorials/how-to-set-up-your-python-and-flask-development-environment#install-ngrok)